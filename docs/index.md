# General Contractor Building

**Общая информация**

Продукт: **Telegram-бот** для автоматизации процессов подготовки сметных расчетов и подготовки экспертных отчётов в Москве и Московской области. Решение работает без внешней СУБД (использует встроенное хранилище), легко интегрируется с платёжными системами (YooMoney) и готово к развёртыванию в рамках реестра российского ПО.

---

## 1. Функциональные возможности

### 1.1 Telegram-бот

* **/get\_cswv** — приём любого количества Excel-файлов, формирование сопоставительной ведомости объёмов работ (СВОР) для экспертизы Москвы и Московской области.
* **/compare\_pdf** — сравнение двух PDF-документов с использованием OCR для выявления расхождений.
* **/bring\_in\_line** — приведение в соответствие кодов расценок в сметах.
* **/qwengpt** — чат-бот на весах qwen.

---

## 2. Установка и настройка

### 2.1 Клонирование репозитория

```bash
git clone https://github.com/gcbot-doe/gcbot.git
cd gcbot
```

### 2.2 Переменные окружения

Скопируйте шаблон и заполните секреты:

```bash
cp .env.example .env
# В файле .env укажите:
# BOT_TOKEN=<токен_бота>
# YOO_MONEY_PUBLIC_KEY=<public_key>
# YOO_MONEY_SECRET_KEY=<secret_key>
# API_KEY=<ключ_OCR>
```

### 2.3 Локальный запуск

```bash
pip install -r requirements.txt
python -m bot.main
```

### 2.4 Контейнерный запуск (Docker)

```bash
docker compose up -d --build
```

(если требуется сборка образа вручную — используйте `docker compose build` перед `up`).

---

## 3. Эксплуатация и сопровождение

* **Логи**:

  * Без Docker: `tail -f logs/bot.log`
  * В Docker: `docker compose logs -f bot`
* **Перезапуск**: `docker compose down && docker compose up -d`
* **Обновление кода**: `git pull origin main && docker compose up -d --build`
* **Резервное копирование**: регулярный экспорт встроенного хранилища (`data/`) в виде архивов.
* **Техническая поддержка**:

  * Заявки и баг-репорты — раздел [GitHub Issues](https://github.com/gcbot-doe/gcbot-docs/issues)
  * Email: [mis@mp-2.ru](mailto:mis@mp-2.ru)

---

## 4. Лицензия и стоимость

* **Лицензия**: Проприетарная «All Rights Reserved». Смотрите [Лицензия](https://gcbot-doe.github.io/gcbot-docs/license.html) для полного текста.


    Copyright (c) 2025 ООО «МОСПРОЕКТ-2». All Rights Reserved.
  
    Настоящее программное обеспечение (далее — ПО) и сопроводительная документация являются собственностью ООО «МОСПРОЕКТ-2».
    Запрещается копирование, распространение, публичное исполнение, передача третьим лицам, создание производных продуктов без
    предварительного письменного разрешения правообладателя.

* **Тарифы и условия использования**: см. [Страница с информацией о стоимости](https://gcbot-doe.github.io/gcbot-docs/pricing.html).

---

> Последнее обновление: май 2025 г.
